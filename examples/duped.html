<!DOCTYPE html>
<title> Duplicated Scripts </title>

<div id="host"></div>

<script>
  let host = document.querySelector('#host');
  let shadow = host.attachShadow({ mode:'closed' });
  shadow.innerHTML += `<script>document.body.textContent='SCRIPT DID EXECUTE';<\/script>`;
  shadow.querySelectorAll('script').forEach(script => {
    let dupe = document.createElement('script');
    dupe.textContent = script.innerHTML;
    script.replaceWith(dupe);
  });
</script>
